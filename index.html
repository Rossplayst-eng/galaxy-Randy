<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Randy ‚ù§Ô∏è</title>

  <!-- Fuente ‚Äúgordita y linda‚Äù -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700;800&display=swap" rel="stylesheet">

  <style>
    html, body { height:100%; margin:0; background:#000; overflow:hidden; }
    body { font-family: "Baloo 2", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }

    /* 9:16 centrado */
    .frame{ position:fixed; inset:0; display:grid; place-items:center; background:#000; }
    .stage{
      width:min(100vw, calc(100vh * 9/16));
      height:min(100vh, calc(100vw * 16/9));
      position:relative;
      overflow:hidden;
      border-radius:18px;
      background:#000;
    }
    canvas{ position:absolute; inset:0; width:100%; height:100%; }

    .title{
      position:absolute; top:18px; left:50%;
      transform:translateX(-50%);
      z-index:5;
      font-size:clamp(30px, 6vw, 52px);
      font-weight:800;
      color:#ff7ad9;
      white-space:nowrap;
      user-select:none;
      text-shadow:
        0 0 12px rgba(255,122,217,.85),
        0 0 34px rgba(255,122,217,.45);
      display:flex; align-items:center; gap:10px;
    }
    .title .heart{ filter: drop-shadow(0 0 14px rgba(255, 80, 140, .9)); }

    .hint{
      position:absolute; bottom:12px; left:50%;
      transform:translateX(-50%);
      z-index:6;
      color:rgba(255,255,255,.7);
      font-size:12px;
      padding:8px 10px;
      border-radius:12px;
      border:1px solid rgba(255,122,217,.18);
      background:rgba(0,0,0,.25);
      backdrop-filter: blur(8px);
      user-select:none;
    }
  </style>
</head>

<body>
  <div class="frame">
    <div class="stage" id="stage">
      <canvas id="c"></canvas>
      <div class="title">Randy <span class="heart">‚ù§Ô∏è</span></div>
      <div class="hint">Toca para m√°s brillo ‚ú®</div>
    </div>
  </div>

<script>
(() => {
  const stage = document.getElementById("stage");
  const canvas = document.getElementById("c");
  const ctx = canvas.getContext("2d", { alpha:false });

  const W = () => stage.clientWidth;
  const H = () => stage.clientHeight;

  const rand = (a,b)=>a+Math.random()*(b-a);
  const pick = (arr)=>arr[Math.floor(Math.random()*arr.length)];

  function resize(){
    const dpr = Math.min(2, window.devicePixelRatio || 1);
    canvas.width = Math.floor(W()*dpr);
    canvas.height = Math.floor(H()*dpr);
    ctx.setTransform(dpr,0,0,dpr,0,0);
  }
  addEventListener("resize", resize);
  resize();

  // ====== Config (edita aqu√≠ si quieres) ======
  const texts = ["Te amo","Mi desastre fav","Mi todo","Mi mundo","Mi universo"];
  const STICKER_PATH = "sticker.png"; // <-- cambia si tu sticker tiene otro nombre
  const ORBIT_SPEED = 0.18;           // velocidad del anillo (m√°s bajo = m√°s lento)
  const STAR_SWIRL_SPEED = 0.06;      // estrellas girando suave
  const BG_STAR_COUNT = 380;          // fondo suave (no tan cargado)
  const RING_STAR_COUNT = 130;        // destellos cerca del anillo
  const STICKER_COUNT = 10;           // cu√°ntos stickers dan la vuelta

  // ====== Cargar sticker ======
  const stickerImg = new Image();
  let stickerReady = false;
  stickerImg.onload = () => stickerReady = true;
  stickerImg.onerror = () => stickerReady = false;
  stickerImg.src = STICKER_PATH;

  // ====== Estrellas fondo (suaves) ======
  const bgStars = [];
  function makeBgStars(){
    bgStars.length = 0;
    for(let i=0;i<BG_STAR_COUNT;i++){
      bgStars.push({
        x: rand(0, W()),
        y: rand(0, H()),
        z: rand(0.2, 1),
        s: rand(0.5, 1.4),
        tw: rand(0, Math.PI*2)
      });
    }
  }
  makeBgStars();

  // ====== Destellos alrededor del anillo (como glitter) ======
  const ringStars = [];
  function makeRingStars(){
    ringStars.length = 0;
    for(let i=0;i<RING_STAR_COUNT;i++){
      ringStars.push({
        a: rand(0, Math.PI*2),
        r: rand(0.55, 1.25),
        s: rand(0.8, 1.6),
        tw: rand(0, Math.PI*2)
      });
    }
  }
  makeRingStars();

  // ====== Saturno (abajo como ‚Äúpiso‚Äù) ======
  function drawSaturn(t){
    const cx = W()/2;
    const cy = H()*0.76;           // abajo
    const planetR = Math.min(W(),H()) * 0.16;

    // sombreado del ‚Äúpiso‚Äù (haze)
    const haze = ctx.createRadialGradient(cx, cy, 1, cx, cy, planetR*3.0);
    haze.addColorStop(0, "rgba(255,110,210,0.10)");
    haze.addColorStop(1, "rgba(0,0,0,0)");
    ctx.fillStyle = haze;
    ctx.fillRect(0,0,W(),H());

    // anillo grande de Saturno
    const ringTilt = 0.55 + Math.sin(t*0.8)*0.02;
    ctx.save();
    ctx.translate(cx, cy);
    ctx.rotate(Math.sin(t*0.15)*0.02);

    // ring glow (elipse)
    for(let i=0;i<5;i++){
      ctx.beginPath();
      ctx.ellipse(0, 0, planetR*2.05 + i*6, planetR*0.95*ringTilt + i*2, 0, 0, Math.PI*2);
      ctx.strokeStyle = `rgba(255, 80, 200, ${0.18 - i*0.03})`;
      ctx.lineWidth = 10 + i*2;
      ctx.shadowBlur = 28 + i*10;
      ctx.shadowColor = "rgba(255, 90, 210, 0.95)";
      ctx.stroke();
    }

    // ring highlight
    ctx.beginPath();
    ctx.ellipse(0, 0, planetR*2.0, planetR*0.92*ringTilt, 0, 0, Math.PI*2);
    ctx.strokeStyle = "rgba(255, 230, 255, 0.90)";
    ctx.lineWidth = 4;
    ctx.shadowBlur = 26;
    ctx.shadowColor = "rgba(255, 130, 220, 1)";
    ctx.stroke();

    // planeta (bola)
    const grad = ctx.createRadialGradient(-planetR*0.35, -planetR*0.35, planetR*0.2, 0, 0, planetR*1.2);
    grad.addColorStop(0, "rgba(255, 205, 245, 0.95)");
    grad.addColorStop(0.6, "rgba(255, 125, 215, 0.85)");
    grad.addColorStop(1, "rgba(90, 10, 70, 0.95)");
    ctx.fillStyle = grad;
    ctx.shadowBlur = 24;
    ctx.shadowColor = "rgba(255, 90, 210, 0.55)";
    ctx.beginPath();
    ctx.arc(0, 0, planetR, 0, Math.PI*2);
    ctx.fill();

    // sombra inferior del planeta
    ctx.globalAlpha = 0.35;
    ctx.fillStyle = "rgba(0,0,0,0.65)";
    ctx.beginPath();
    ctx.ellipse(planetR*0.15, planetR*0.35, planetR*0.95, planetR*0.65, 0, 0, Math.PI*2);
    ctx.fill();
    ctx.globalAlpha = 1;

    ctx.restore();

    return { cx, cy, planetR };
  }

  // ====== Texto ‚Äúgordito relleno‚Äù ======
  function drawNeonText(str, x, y, size, alpha=1){
    ctx.save();
    ctx.globalAlpha = alpha;

    ctx.font = `${size}px "Baloo 2", system-ui`;
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";

    // glow
    ctx.shadowBlur = 20;
    ctx.shadowColor = "rgba(255, 90, 200, 0.95)";

    // relleno
    ctx.fillStyle = "rgba(255, 160, 235, 0.98)";
    ctx.fillText(str, x, y);

    // borde blanco rosita
    ctx.lineWidth = Math.max(2, size*0.08);
    ctx.strokeStyle = "rgba(255, 235, 255, 0.92)";
    ctx.strokeText(str, x, y);

    ctx.restore();
  }

  // ====== Dibujar estrellas fondo (suaves y girando) ======
  function drawBgStars(t){
    const cx = W()/2, cy = H()*0.62;
    for(const s of bgStars){
      s.tw += 0.02*(0.4+s.z);
      const tw = 0.55 + 0.45*Math.sin(s.tw);

      // rotaci√≥n suave del ‚Äúcielo‚Äù
      const ang = Math.atan2(s.y - cy, s.x - cx) + STAR_SWIRL_SPEED * t * (0.18 + s.z*0.35);
      const dist = Math.hypot(s.x - cx, s.y - cy);
      const x = cx + Math.cos(ang)*dist;
      const y = cy + Math.sin(ang)*dist;

      ctx.globalAlpha = tw * (0.18 + 0.40*s.z); // suave, no muy cargado
      ctx.fillStyle = "white";
      ctx.fillRect(x, y, s.s, s.s);
    }
    ctx.globalAlpha = 1;
  }

  // ====== Anillo de palabras + stickers (girando lento) ======
  function drawOrbit(t, sat){
    const cx = sat.cx;
    const cy = sat.cy - sat.planetR*1.05;   // anillo ‚Äúarriba‚Äù del piso
    const ringR = sat.planetR*2.35;

    // dibuja ‚Äúcamino‚Äù del anillo (como piso circular)
    for(let i=0;i<5;i++){
      ctx.beginPath();
      ctx.arc(cx, cy, ringR + i*4, 0, Math.PI*2);
      ctx.strokeStyle = `rgba(255, 80, 200, ${0.10 - i*0.015})`;
      ctx.lineWidth = 10 + i*2;
      ctx.shadowBlur = 26 + i*8;
      ctx.shadowColor = "rgba(255, 90, 210, 0.9)";
      ctx.stroke();
    }

    // destellos cerca del anillo
    for(const rs of ringStars){
      rs.tw += 0.03;
      const sparkle = 0.55 + 0.45*Math.sin(rs.tw);
      const a = rs.a + t*ORBIT_SPEED*0.35;
      const r = ringR * rs.r;
      const x = cx + Math.cos(a)*r;
      const y = cy + Math.sin(a)*r;
      ctx.globalAlpha = sparkle * 0.22;
      ctx.fillStyle = "white";
      ctx.fillRect(x, y, rs.s, rs.s);
    }
    ctx.globalAlpha = 1;

    // palabras en c√≠rculo
    const totalWords = 18;
    for(let i=0;i<totalWords;i++){
      const a = (i/totalWords)*Math.PI*2 + t*ORBIT_SPEED;
      const x = cx + Math.cos(a)*ringR;
      const y = cy + Math.sin(a)*ringR;

      // sensaci√≥n de profundidad: arriba m√°s peque√±o / abajo m√°s grande
      const depth = 0.70 + 0.35*(0.5 + 0.5*Math.sin(a));
      const size = Math.round((Math.min(W(),H())*0.035) * depth);

      const wob = Math.sin(t*2 + i)*1.2;
      drawNeonText(pick(texts), x, y + wob, size, 0.92);
    }

    // stickers repetidos girando tambi√©n
    for(let i=0;i<STICKER_COUNT;i++){
      const a = (i/STICKER_COUNT)*Math.PI*2 - t*ORBIT_SPEED*0.9; // opposite direction = m√°s bonito
      const r = ringR * rand(0.82, 1.08);
      const x = cx + Math.cos(a)*r;
      const y = cy + Math.sin(a)*r;

      const depth = 0.75 + 0.35*(0.5 + 0.5*Math.sin(a));
      const s = Math.round((Math.min(W(),H())*0.08) * depth);

      ctx.save();
      ctx.globalAlpha = 0.95;
      ctx.shadowBlur = 20;
      ctx.shadowColor = "rgba(255, 90, 200, 0.75)";

      if(stickerReady){
        ctx.drawImage(stickerImg, x - s/2, y - s/2, s, s);
      } else {
        // fallback por si no carga el png
        ctx.font = `${Math.max(22, s*0.45)}px Apple Color Emoji, Segoe UI Emoji`;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText("üß∏üíû", x, y);
      }
      ctx.restore();
    }
  }

  // ====== Toques para ‚Äúbrillos‚Äù ======
  const tapBursts = [];
  function burst(x,y){
    for(let i=0;i<18;i++){
      tapBursts.push({
        x, y,
        vx: rand(-1.2, 1.2),
        vy: rand(-1.6, -0.4),
        life: rand(0.8, 1.4),
        t: 0,
        s: rand(10, 20),
        char: pick(["‚ú®","üíó","üíû","üíï","‚≠êÔ∏è"])
      });
    }
  }

  stage.addEventListener("pointerdown", (e)=>{
    const r = stage.getBoundingClientRect();
    burst(e.clientX - r.left, e.clientY - r.top);
  });

  function drawBursts(dt){
    for(let i=tapBursts.length-1;i>=0;i--){
      const p = tapBursts[i];
      p.t += dt;
      p.x += p.vx * 60 * dt;
      p.y += p.vy * 60 * dt;
      p.vy += 0.02 * 60 * dt; // gravity
      const a = Math.max(0, 1 - (p.t/p.life));
      ctx.save();
      ctx.globalAlpha = a;
      ctx.font = `${p.s}px Apple Color Emoji, Segoe UI Emoji`;
      ctx.textAlign = "center";
      ctx.textBaseline = "middle";
      ctx.shadowBlur = 18;
      ctx.shadowColor = "rgba(255, 90, 200, 0.75)";
      ctx.fillText(p.char, p.x, p.y);
      ctx.restore();
      if(p.t >= p.life) tapBursts.splice(i,1);
    }
  }

  // ====== Loop ======
  let last = performance.now();
  function tick(now){
    const dt = Math.min(32, now-last)/1000;
    last = now;
    const t = now/1000;

    ctx.fillStyle = "#000";
    ctx.fillRect(0,0,W(),H());

    drawBgStars(t);

    const sat = drawSaturn(t);

    drawOrbit(t, sat);

    drawBursts(dt);

    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);

  // Rehacer estrellas si cambia tama√±o
  addEventListener("resize", ()=>{ makeBgStars(); makeRingStars(); });

})();
</script>
</body>
</html>
