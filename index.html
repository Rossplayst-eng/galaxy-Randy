<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Randy ðŸ’™</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700;800&display=swap" rel="stylesheet">

  <style>
    html, body { height:100%; margin:0; background:#000; overflow:hidden; }
    body { font-family: "Baloo 2", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }

    .frame{ position:fixed; inset:0; display:grid; place-items:center; background:#000; }
    .stage{
      width:min(100vw, calc(100vh * 9/16));
      height:min(100vh, calc(100vw * 16/9));
      position:relative;
      overflow:hidden;
      border-radius:18px;
      background:#000;
    }
    canvas{ position:absolute; inset:0; width:100%; height:100%; }

    .title{
      position:absolute; top:18px; left:50%;
      transform:translateX(-50%);
      z-index:5;
      font-size:clamp(30px, 6vw, 52px);
      font-weight:800;
      white-space:nowrap;
      user-select:none;
      display:flex; align-items:center; gap:10px;
      color:#7ad7ff;
      text-shadow: 0 0 14px rgba(80,200,255,.90), 0 0 38px rgba(80,200,255,.45);
    }
    .title .heart{ filter: drop-shadow(0 0 16px rgba(70, 180, 255, .95)); }
  </style>
</head>

<body>
  <div class="frame">
    <div class="stage" id="stage">
      <canvas id="c"></canvas>
      <div class="title">Randy <span class="heart">ðŸ’™</span></div>
    </div>
  </div>

<script>
(() => {
  const stage = document.getElementById("stage");
  const canvas = document.getElementById("c");
  const ctx = canvas.getContext("2d", { alpha:false });

  const W = () => stage.clientWidth;
  const H = () => stage.clientHeight;
  const rand = (a,b)=>a+Math.random()*(b-a);
  const pick = (arr)=>arr[Math.floor(Math.random()*arr.length)];

  function resize(){
    const dpr = Math.min(2, window.devicePixelRatio || 1);
    canvas.width = Math.floor(W()*dpr);
    canvas.height = Math.floor(H()*dpr);
    ctx.setTransform(dpr,0,0,dpr,0,0);
  }
  addEventListener("resize", resize);
  resize();

  // ===== CONFIG =====
  const texts = ["Te amo","Mi desastre fav","Mi todo","Mi mundo","Mi universo"];
  const STICKER_PATH = "sticker.png"; // <-- tu sticker PNG (fondo transparente)

  const ORBIT_SPEED = 0.04;        // <<< mÃ¡s lento (baja a 0.03 si lo quieres aÃºn mÃ¡s)
  const BG_STAR_COUNT = 420;       // estrellas esparcidas
  const BG_SWIRL_SPEED = 0.015;    // <<< rotaciÃ³n suave del fondo (mÃ¡s bajo = mÃ¡s suave)
  const RING_SPARKLES = 380;       // muchas estrellitas girando con las letras
  const WORD_COUNT = 22;
  const STICKER_COUNT = 14;

  // Paleta AZUL neÃ³n
  const BLUE_GLOW = "rgba(70,190,255,0.95)";
  const BLUE_GLOW_SOFT = "rgba(70,190,255,0.60)";
  const BLUE_FILL = "rgba(170,235,255,0.98)";
  const BLUE_STROKE = "rgba(235,250,255,0.95)";
  const BLUE_RING = "rgba(70,190,255,0.22)";

  // ===== sticker =====
  const stickerImg = new Image();
  let stickerReady = false;
  stickerImg.onload = () => stickerReady = true;
  stickerImg.onerror = () => stickerReady = false;
  stickerImg.src = STICKER_PATH;

  // ===== estrellas fondo (esparcidas + rotando) =====
  const bgStars = [];
  function makeBgStars(){
    bgStars.length = 0;
    for(let i=0;i<BG_STAR_COUNT;i++){
      bgStars.push({
        x: rand(0, W()),
        y: rand(0, H()),
        z: rand(0.2, 1),
        s: rand(0.6, 1.6),
        tw: rand(0, Math.PI*2)
      });
    }
  }
  makeBgStars();

  // ===== chispitas del anillo =====
  const sparkles = [];
  function makeSparkles(){
    sparkles.length = 0;
    for(let i=0;i<RING_SPARKLES;i++){
      sparkles.push({
        a: rand(0, Math.PI*2),
        lane: rand(0.90, 1.12),
        tw: rand(0, Math.PI*2),
        s: rand(0.8, 1.9),
        speed: rand(0.7, 1.4)
      });
    }
  }
  makeSparkles();

  // ===== Saturno (azul) =====
  function drawSaturn(t){
    const cx = W()/2;
    const cy = H()*0.76;
    const planetR = Math.min(W(),H()) * 0.16;

    // bruma azul
    const haze = ctx.createRadialGradient(cx, cy, 1, cx, cy, planetR*3.1);
    haze.addColorStop(0, "rgba(70,190,255,0.10)");
    haze.addColorStop(1, "rgba(0,0,0,0)");
    ctx.fillStyle = haze;
    ctx.fillRect(0,0,W(),H());

    const ringTilt = 0.55 + Math.sin(t*0.8)*0.02;

    // anillo glow (elipse)
    ctx.save();
    ctx.translate(cx, cy);
    for(let i=0;i<5;i++){
      ctx.beginPath();
      ctx.ellipse(0, 0, planetR*2.05 + i*6, planetR*0.95*ringTilt + i*2, 0, 0, Math.PI*2);
      ctx.strokeStyle = `rgba(70,190,255, ${0.18 - i*0.03})`;
      ctx.lineWidth = 10 + i*2;
      ctx.shadowBlur = 28 + i*10;
      ctx.shadowColor = BLUE_GLOW;
      ctx.stroke();
    }
    // highlight
    ctx.beginPath();
    ctx.ellipse(0, 0, planetR*2.0, planetR*0.92*ringTilt, 0, 0, Math.PI*2);
    ctx.strokeStyle = BLUE_STROKE;
    ctx.lineWidth = 4;
    ctx.shadowBlur = 26;
    ctx.shadowColor = BLUE_GLOW;
    ctx.stroke();
    ctx.restore();

    // planeta
    ctx.save();
    ctx.translate(cx, cy);
    const grad = ctx.createRadialGradient(-planetR*0.35, -planetR*0.35, planetR*0.2, 0, 0, planetR*1.2);
    grad.addColorStop(0, "rgba(210,245,255,0.95)");
    grad.addColorStop(0.6, "rgba(120,210,255,0.85)");
    grad.addColorStop(1, "rgba(5,20,40,0.98)");
    ctx.fillStyle = grad;
    ctx.shadowBlur = 24;
    ctx.shadowColor = BLUE_GLOW_SOFT;
    ctx.beginPath();
    ctx.arc(0, 0, planetR, 0, Math.PI*2);
    ctx.fill();

    // sombra
    ctx.globalAlpha = 0.35;
    ctx.fillStyle = "rgba(0,0,0,0.65)";
    ctx.beginPath();
    ctx.ellipse(planetR*0.15, planetR*0.35, planetR*0.95, planetR*0.65, 0, 0, Math.PI*2);
    ctx.fill();
    ctx.globalAlpha = 1;
    ctx.restore();

    return { cx, cy, planetR, ringTilt };
  }

  function drawNeonText(str, x, y, size, alpha=1){
    ctx.save();
    ctx.globalAlpha = alpha;
    ctx.font = `${size}px "Baloo 2", system-ui`;
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";

    ctx.shadowBlur = 22;
    ctx.shadowColor = BLUE_GLOW;

    ctx.fillStyle = BLUE_FILL;      // relleno
    ctx.fillText(str, x, y);

    ctx.lineWidth = Math.max(2, size*0.08);
    ctx.strokeStyle = BLUE_STROKE;  // borde
    ctx.strokeText(str, x, y);

    ctx.restore();
  }

  // Fondo esparcido que rota suavemente alrededor de Saturno
  function drawBgStars(t, sat){
    const cx = sat.cx;
    const cy = sat.cy; // centro de giro
    for(const s of bgStars){
      s.tw += 0.02*(0.4+s.z);
      const tw = 0.55 + 0.45*Math.sin(s.tw);

      // rotaciÃ³n suave del cielo alrededor de Saturno
      const dx = s.x - cx;
      const dy = s.y - cy;
      const dist = Math.hypot(dx, dy);
      const baseAng = Math.atan2(dy, dx);
      const ang = baseAng + (BG_SWIRL_SPEED * t) * (0.35 + s.z);

      const x = cx + Math.cos(ang)*dist;
      const y = cy + Math.sin(ang)*dist;

      ctx.globalAlpha = tw * (0.10 + 0.35*s.z);
      ctx.fillStyle = "white";
      ctx.fillRect(x, y, s.s, s.s);
    }
    ctx.globalAlpha = 1;
  }

  // Letras + stickers + estrellitas girando sobre el ANILLO real (elipse)
  function drawRingOrbit(t, sat){
    const cx = sat.cx;
    const cy = sat.cy;

    const rx = sat.planetR*2.0;
    const ry = sat.planetR*0.92*sat.ringTilt;

    // â€œauraâ€ suave del anillo (piso)
    ctx.save();
    ctx.beginPath();
    ctx.ellipse(cx, cy, rx*1.14, ry*1.14, 0, 0, Math.PI*2);
    ctx.strokeStyle = BLUE_RING;
    ctx.lineWidth = 14;
    ctx.shadowBlur = 24;
    ctx.shadowColor = BLUE_GLOW_SOFT;
    ctx.stroke();
    ctx.restore();

    // sparkles girando (muchas)
    for(const sp of sparkles){
      sp.tw += 0.06;
      const sparkle = 0.45 + 0.55*Math.sin(sp.tw);

      const a = sp.a + t*ORBIT_SPEED*sp.speed;
      const x = cx + Math.cos(a) * (rx * sp.lane);
      const y = cy + Math.sin(a) * (ry * sp.lane);

      ctx.globalAlpha = sparkle * 0.38;
      ctx.fillStyle = "white";
      ctx.fillRect(x, y, sp.s, sp.s);
    }
    ctx.globalAlpha = 1;

    // palabras sobre el anillo
    for(let i=0;i<WORD_COUNT;i++){
      const a = (i/WORD_COUNT)*Math.PI*2 + t*ORBIT_SPEED;
      const x = cx + Math.cos(a) * (rx * 1.10);
      const y = cy + Math.sin(a) * (ry * 1.10);

      const depth = 0.72 + 0.38*(0.5 + 0.5*Math.sin(a)); // un poco de â€œprofundidadâ€
      const size = Math.round((Math.min(W(),H())*0.034) * depth);

      drawNeonText(pick(texts), x, y, size, 0.96);
    }

    // stickers girando
    for(let i=0;i<STICKER_COUNT;i++){
      const a = (i/STICKER_COUNT)*Math.PI*2 - t*ORBIT_SPEED*0.9; // direcciÃ³n contraria
      const depth = 0.75 + 0.35*(0.5 + 0.5*Math.sin(a));
      const s = Math.round((Math.min(W(),H())*0.075) * depth);

      const x = cx + Math.cos(a) * (rx * 0.92);
      const y = cy + Math.sin(a) * (ry * 0.92);

      ctx.save();
      ctx.globalAlpha = 0.95;
      ctx.shadowBlur = 20;
      ctx.shadowColor = BLUE_GLOW_SOFT;
      if(stickerReady){
        ctx.drawImage(stickerImg, x - s/2, y - s/2, s, s);
      } else {
        ctx.font = `${Math.max(22, s*0.45)}px Apple Color Emoji, Segoe UI Emoji`;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText("ðŸ§¸ðŸ’™", x, y);
      }
      ctx.restore();
    }
  }

  // loop
  function tick(now){
    const t = now/1000;
    ctx.fillStyle = "#000";
    ctx.fillRect(0,0,W(),H());

    const sat = drawSaturn(t);

    // fondo gira alrededor de Saturno
    drawBgStars(t, sat);

    // todo alrededor de Saturno (anillo): palabras + stickers + estrellitas
    drawRingOrbit(t, sat);

    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);

  addEventListener("resize", ()=>{ makeBgStars(); makeSparkles(); });

})();
</script>
</body>
</html>
